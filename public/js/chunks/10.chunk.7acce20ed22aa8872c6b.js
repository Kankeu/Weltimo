webpackJsonp([10],{C6Gc:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={data:function(){return{followings:[]}},computed:{user:function(){return this.$store.state.user.user},query:function(){var t=this;return this.$store.state.query.queries.find(function(o){return"cardFollowing"===o.name&&o.id===t.profile.id})},profile:function(){var t=this;return this.$store.state.users.users.find(function(o){return o.id===parseInt(t.$route.params.id)})}},methods:{load:function(){var t=this;this.query||this.$http.get("/user/profile/"+this.profile.id+"/following").then(function(o){o.body instanceof Object&&(t.followings=o.body.data)})},follow:function(t){var o=this;this.$set(t,"loadingSubs",!0),t.followed?this.$http.delete("user/subscription/"+t.followed.id).then(function(e){if(1===e.body.status){o.$set(t,"loadingSubs",!1);var n=o.followings.indexOf(o.followings.find(function(o){return o.id===t.id}));n>-1&&o.followings.splice(n,1)}}):this.$http.post("user/subscription",{receiver_id:t.id}).then(function(e){e.body.id&&(o.followings.unshift(e.body),o.$set(t,"loadingSubs",!1))})}},mounted:function(){this.load()}}},IApJ:function(t,o,e){var n=e("VU/8")(e("C6Gc"),e("e93F"),!1,null,null,null);t.exports=n.exports},e93F:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-layout",{staticStyle:{"justify-content":"space-between"},attrs:{row:"",wrap:"",layout_block:""}},t._l(t.followings,function(o){return e("v-flex",{key:o.id,attrs:{xs6:""}},[e("v-card",[e("v-container",{attrs:{fluid:"","grid-list-lg":""}},[e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{xs7:""}},[e("div",[e("div",{staticClass:"headline"},[e("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"/#/user/profile/"+o.id}},[t._v(t._s(o.name+" "+o.forename))])]),t._v(" "),e("br"),e("br"),t._v(" "),e("div",[e("v-tooltip",{attrs:{top:""}},[o.followed?e("v-btn",{attrs:{slot:"activator",loading:o.loadingSubs,color:o.followed?null:"primary",outline:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.follow(o)}},slot:"activator"},[o.followed?t._e():e("v-icon",[t._v("person_add")]),t._v(t._s(o.followed?"Unfollow":"Follow")+"\n                                    ")],1):t._e(),t._v(" "),o.followed?e("span",[t._v("Click here to follow")]):e("span",[t._v("Click here to unfollow")])],1)],1)])]),t._v(" "),e("v-flex",{attrs:{xs5:""}},[e("v-card-media",{attrs:{src:o.avatar,height:"125px",contain:""}})],1)],1)],1)],1)],1)}))},staticRenderFns:[]}}});